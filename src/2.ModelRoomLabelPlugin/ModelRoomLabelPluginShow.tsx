import * as React from 'react';
import { unsafe__useFiveInstance, useFiveEventCallback } from "@realsee/five/react";
import type { ModelRoomLabelPluginData } from "@realsee/dnalogel/libs/plugin/ModelRoomLabelPlugin";

const modelRoomLabels: ModelRoomLabelPluginData = {
    code: 200,
    data: {
        model_room_labels: [
            {
                id: 'u-OYiP6TkTe8hSA8',
                name: '客厅',
                position: {
                    x: 1.4775,
                    y: -0.7875563686250507,
                    z: 6.9825,
                },
                longitude: -0.730755951280623,
                floor_index: 0,
                pano_index: 14,
            },
            {
                id: 'u-gSJA1fkTe8J6es',
                name: '门厅',
                position: {
                    x: 1.505,
                    y: -0.7875563686250507,
                    z: -1.7875,
                },
                longitude: -1.5895326019545093,
                floor_index: 0,
                pano_index: 0,
            },
            {
                id: 'u-12zVUSKTe8JmL2',
                name: '卫生间A',
                position: {
                    x: -0.6715,
                    y: -0.7875563686250507,
                    z: 2.4235,
                },
                longitude: 2.858400716857332,
                floor_index: 0,
                pano_index: 8,
            },
            {
                id: 'u-KhmJ4PKtE8JUg3',
                name: '厨房',
                position: {
                    x: 3.219,
                    y: -0.7875563686250507,
                    z: 1.027,
                },
                longitude: -0.10613090543212096,
                floor_index: 0,
                pano_index: 3,
            },
            {
                id: 'u-MvmD6EkTE8k5rk',
                name: '卧室A',
                position: {
                    x: 0.031147705078125,
                    y: -0.7875563686250507,
                    z: 12.400404541015625,
                },
                longitude: 1.9061996759631914,
                floor_index: 0,
                pano_index: 16,
            },
            {
                id: 'u-oJFy5Mkte8kd9M',
                name: '阳台A',
                position: {
                    x: 3.1525,
                    y: -0.7875563686250507,
                    z: 10.884,
                },
                longitude: 1.4006535364833654,
                floor_index: 0,
                pano_index: 13,
            },
            {
                id: 'u-g4FuqwKtE8Keee',
                name: '阳台B',
                position: {
                    x: -0.13,
                    y: -0.7875563686250507,
                    z: 15.3665,
                },
                longitude: 1.5861496525046053,
                floor_index: 0,
                pano_index: 18,
            },
            {
                id: 'u-8U1mk8kTE8p152',
                name: '过道',
                position: {
                    x: -0.45,
                    y: 2.370511009717191,
                    z: 7.2005,
                },
                longitude: -1.863424018318805,
                floor_index: 1,
                pano_index: 43,
            },
            {
                id: 'u-Qt2a8lkTE8Q5Fn',
                name: '阳台C',
                position: {
                    x: 2.1015,
                    y: 2.370511009717191,
                    z: 0.0255,
                },
                longitude: -2.4006814131323395,
                floor_index: 1,
                pano_index: 38,
            },
            {
                id: 'u-NUjVStktE8QgQB',
                name: '卫生间C',
                position: {
                    x: 1.416,
                    y: 2.370511009717191,
                    z: 2.906,
                },
                longitude: 0.5297027973317656,
                floor_index: 1,
                pano_index: 35,
            },
            {
                id: 'u-k8xCaekTE8qNO7',
                name: '衣帽间',
                position: {
                    x: 3.5075,
                    y: 2.370511009717191,
                    z: 2.906,
                },
                longitude: -0.8524865527979524,
                floor_index: 1,
                pano_index: 34,
            },
            {
                id: 'u-HLe50ekte8QoQY',
                name: '卫生间B',
                position: {
                    x: -0.596,
                    y: 2.370511009717191,
                    z: 2.712,
                },
                longitude: 2.819075672091178,
                floor_index: 1,
                pano_index: 40,
            },
            {
                id: 'u-LOmp8sKtE8QwsF',
                name: '卧室C',
                position: {
                    x: 0.0367342529296875,
                    y: 2.370511009717191,
                    z: 11.653860717773437,
                },
                longitude: -2.510866315315486,
                floor_index: 1,
                pano_index: 25,
            },
            {
                id: 'u-v7i75MKtE8R6AJ',
                name: '卧室B',
                position: {
                    x: 2.6395,
                    y: 2.370511009717191,
                    z: 7.4345,
                },
                longitude: -1.243487718655088,
                floor_index: 1,
                pano_index: 30,
            },
            {
                id: 'u-GnW2cJkTE8r794',
                name: '阳台D',
                position: {
                    x: 3.155,
                    y: 2.370511009717191,
                    z: 10.8575,
                },
                longitude: -1.414575052134261,
                floor_index: 1,
                pano_index: 32,
            },
            {
                id: 'u-Y3Z387ktE8wXe1',
                name: '多功能间',
                position: {
                    x: 0.8792567749023438,
                    y: 4.9981275216157375,
                    z: 5.834980285644531,
                },
                longitude: 0.08800197783492275,
                floor_index: 2,
                pano_index: 50,
            },
            {
                id: 'u-Y7QFVlKtE8xo1W',
                name: '阳光房',
                position: {
                    x: 0.0105,
                    y: 4.9981275216157375,
                    z: 12.1045,
                },
                longitude: -2.2901714040824257,
                floor_index: 2,
                pano_index: 49,
            },
        ],
    },
    msg: '',
}.data

interface ModelRoomLabelPluginShowPropTypes {

}

const ModelRoomLabelPluginShow = (props: ModelRoomLabelPluginShowPropTypes) => {
    const modelRoomLabelRef = React.useRef<HTMLDivElement>(null)
    const five = unsafe__useFiveInstance()

    React.useEffect(() => {
        if (!modelRoomLabelRef.current) return
        five.plugins.modelRoomLabelPlugin.appendTo(modelRoomLabelRef.current)
    }, [])

    useFiveEventCallback('modelLoaded', () => {
        five.plugins.modelRoomLabelPlugin.load(modelRoomLabels)
    })

    return (
        <>
            <div
                ref={modelRoomLabelRef}
                style={{
                    position: 'absolute',
                    top: 0,
                    left: 0,
                    width: '100%',
                    height: '100%',
                    pointerEvents: 'none'
                }}
            />
            <div
                onClick={() => {five.setState({ mode: 'Floorplan' })}}
                style={{
                    position: 'absolute',
                    top: 0,
                    left: 0,
                    width: '100px',
                    height: '30px',
                    backgroundColor: 'rgba(0, 0, 0, .3)',
                    cursor: 'pointer'
                }}
            >模型游走模态</div>
        </>
    )

};

export default ModelRoomLabelPluginShow;
