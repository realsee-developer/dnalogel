import{r as a,q as p,R as c,j as e,F as s,G as h,p as u,I as x,a as m}from"./index-85b64ddc.js";import{M as f}from"./index-95a52a8f.js";import{P as n}from"./Paper-ead7a250.js";import{B as g,a as r}from"./BottomNavigationAction-2b30d94e.js";import{B as w}from"./ButtonGroup-da6043f4.js";import{B as l}from"./Button-c89038b2.js";import{u as j,D as v}from"./useFetchDatas-45e33e50.js";import"./createTheme-a7bd8e9d.js";import"./ButtonBase-4df208c3.js";function d(){return{width:window.innerWidth,height:window.innerHeight}}function b(){const[t,o]=a.useState(d);return a.useEffect(()=>{const i=()=>o(d());return window.addEventListener("resize",i,!1),()=>window.removeEventListener("resize",i,!1)}),t}const M=()=>{const t=p(),o=t.plugins.areaMakerPlugin;return c.useEffect(()=>{o.appendTo(t.getElement().parentElement),o.load({list:[{id:1,name:"有模型",object_data:{points:[[0,0,0],[1,0,1],[0,0,1]],floorIndex:0,height:2,fixedY:0,fixedHeight:2,color:"#000000"}},{id:2,name:"没有模型",object_data:{points:[[0,0,0],[-1,0,-1],[0,0,1]],floorIndex:0,height:2,fixedY:0,fixedHeight:2,color:"#000000",visible:!1}}]}),o.itemMap.forEach(i=>{i.hooks.on("tagShow",()=>console.info("tagShow",i.id)),i.hooks.on("tagHide",()=>console.info("tagHide",i.id))})},[]),e.jsxs(e.Fragment,{children:[e.jsx(n,{sx:{position:"fixed",bottom:0},style:{borderRadius:"4px",overflow:"hidden"},children:e.jsxs(g,{showLabels:!0,children:[e.jsx(r,{label:"Panorama",value:s.Mode.Panorama}),e.jsx(r,{label:"Floorplan",value:s.Mode.Floorplan}),e.jsx(r,{label:"Mapview",value:s.Mode.Mapview})]})}),e.jsx(n,{sx:{position:"fixed",top:"10px",right:"10px",backgroundColor:"transparent"},children:e.jsxs(w,{size:"large","aria-label":"large button group",orientation:"vertical",children:[e.jsx(l,{onClick:()=>o==null?void 0:o.show(),children:"show"}),e.jsx(l,{onClick:()=>o==null?void 0:o.hide(),children:"hide"})]})})]})},k=h({imageOptions:{size:512},textureOptions:{size:128},onlyRenderIfNeeds:!0,plugins:[[f,"areaMakerPlugin"]]}),E=()=>{const t=b(),o=j(v.WORK);return o&&e.jsxs(k,{initialWork:u(o),initialState:{mode:"Mapview",latitude:0,longitude:3.924002093459407},children:[e.jsx("div",{style:{position:"absolute",width:"100%",height:"100%"},children:e.jsx(x,{...t})}),e.jsx(M,{})]})};m.render(e.jsx(E,{}),document.querySelector("#app"));
