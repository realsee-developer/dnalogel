import{q as l,j as e,G as d,p as c,I as p,a as u}from"./index-85b64ddc.js";import{U as r}from"./index-95a52a8f.js";import{F as f}from"./FiveModeSwitcher-1248bc03.js";import{P as b}from"./Paper-ead7a250.js";import{B as s}from"./ButtonGroup-da6043f4.js";import{B as o}from"./Button-c89038b2.js";import{u as m,D as g}from"./useFetchDatas-45e33e50.js";import"./_five-e7379201.js";import{u as x}from"./useWindowDimensions-e9a574a8.js";import{B as P}from"./Box-d96aca33.js";import"./BottomNavigationAction-2b30d94e.js";import"./createTheme-a7bd8e9d.js";import"./ButtonBase-4df208c3.js";import"./useTheme-28230d65.js";const h={polylines:[{id:"1745c6e1-091f-47ea-3219-115e4b9821c0",lines:[{id:"802b203c-ba5c-4d12-d06f-6e4d418cb82f",points:[{id:"251e2084-8fce-4f99-a493-985eb6a6a9d6",position:[-2.447900889300416,1.865878184254337,-1.4958906769648503]},{id:"31b8a128-7367-4c04-3400-4100525198fd",position:[-1.4679501411405118,2.2863651052271114,-2.3654689916586613]}]},{id:"6e28eb19-6602-46b9-72b1-7f7b8339ec85",points:[{id:"31b8a128-7367-4c04-3400-4100525198fd",position:[-1.4679501411405118,2.2863651052271114,-2.3654689916586613]},{id:"7a38e56b-e72f-4220-2915-c6ab8e46a3fd",position:[-1.5757730696115722,1.8378122928910288,-2.473236548677085]}]}],visibleFiveMode:["Mapview","Floorplan"],visiblePanoIndexes:[0]},{id:"bf6eff23-07b7-411c-f963-9ad4e5504789",lines:[{id:"8faac49d-96dd-4037-5ca3-4d1c9c2479e7",points:[{id:"f3c725be-41bf-4fca-7013-19e6a34e8547",position:[-2.5353564588781454,.9748079746292229,-1.5290161945082437]},{id:"137a42ff-fa6a-4aa1-bedc-6be1923054e9",position:[-1.5323532220533134,.9980902955047334,-2.339700937271118]}]},{id:"8d5e9f85-e29c-4b0c-a50a-56a5b9ed61b5",points:[{id:"137a42ff-fa6a-4aa1-bedc-6be1923054e9",position:[-1.5323532220533134,.9980902955047334,-2.339700937271118]},{id:"4fecd1b6-5e4a-407e-02b3-449b588f3f10",position:[-1.5155148506373561,1.453369424064542,-2.339700937271118]}]}],visibleFiveMode:["Panorama"],visiblePanoIndexes:[0]}]},M=()=>{const a=l(),i=a.plugins.panoMeasurePluginPC,n=a.plugins.panoMeasurePluginMobile;return e.jsxs(e.Fragment,{children:[e.jsx(f,{modeList:["Panorama","Mapview","Model"]}),e.jsx(b,{sx:{position:"fixed",top:"10px",right:"10px",backgroundColor:"transparent"},children:e.jsxs(s,{size:"large","aria-label":"large button group",orientation:"vertical",variant:"contained",children:[e.jsxs(s,{variant:"contained",children:[e.jsx(o,{onClick:()=>{i.disable(),i.enable()},children:"开启测量工具(pc端)"}),e.jsx(o,{onClick:()=>i.disable(),children:"关闭"})]}),e.jsxs(s,{variant:"contained",children:[e.jsx(o,{onClick:()=>{n.disable(),n.enable({mode:"Edit"})},children:"开启测量工具(moblie端)"}),e.jsx(o,{onClick:()=>n.disable(),children:"关闭"})]}),e.jsx(o,{onClick:()=>{i.disable(),i.load(h),i.enable({mode:"View"})},children:"加载数据"})]})})]})},w={useGuideController:!0,useUIController:{useNewUI:!0,showExit:!0},editParams:{pointSelectorMode:"cursor",allowMeasureType:["line","area"],autoEndConfig:{line:null}},openParams:{isMobile:!1},magnifierParams:{height:120,scale:2,width:120,dragEnabled:!1,autoFixPCPosition:!0},pointSelectorConfig:{actionIfNoModelUnderMouse:"disable"}},C={useGuideController:!0,useUIController:{useNewUI:!0},editParams:{allowMeasureType:["line","area"],pointSelectorMode:"fixed",autoEndConfig:{line:2}},openParams:{isMobile:!0},magnifierParams:{height:120,scale:2,width:120,dragEnabled:!1,autoFixPCPosition:!1},pointSelectorConfig:{}},v=d({imageOptions:{size:512},textureOptions:{size:512},onlyRenderIfNeeds:!0,plugins:[[r,"panoMeasurePluginPC",w],[r,"panoMeasurePluginMobile",C]]}),t=new URLSearchParams(window.location.search).get("workCode")??"",j=new URLSearchParams(window.location.search).get("workType")??"real",k=()=>{const a=x(),i=m(g.WORK,t,t?j:void 0);return i&&e.jsxs(v,{initialWork:c(i),children:[e.jsx(p,{...a}),e.jsx(P,{className:"plugin-full-screen-container",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),e.jsx(M,{})]})};u.render(e.jsx(k,{}),document.querySelector("#app"));
