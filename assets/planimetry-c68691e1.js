function o(t,n){return t.x===n.x&&t.y===n.y}function s(t,n){return Math.abs(t)===1/0&&Math.abs(n)===1/0?!0:Math.abs(t-n)<.001}function M(t,n){return(n.y-t.y)/(n.x-t.x)}function N(t,n,a){const u=M(t[1],t[0]),y=M(n[1],n[0]);if(isNaN(u)||isNaN(y)||s(u,y))return!1;if(f(t[0],n))return t[0];if(f(t[1],n))return t[1];if(f(n[0],t))return n[0];if(f(n[1],t))return n[1];if(a&&!b(t,n))return!1;const i=t[0],e=n[0];if(Math.abs(u)===1/0)return{x:i.x,y:n[1].y-(n[1].x-i.x)*y};if(Math.abs(y)===1/0)return{x:e.x,y:t[1].y-(t[1].x-e.x)*u};const c=(e.y-i.y+u*i.x-y*e.x)/(u-y),m=u*c-u*i.x+i.y;return{x:c,y:m}}function f(t,n){return o(t,n[0])||o(t,n[1])?!0:(n[0].x-t.x)*(t.x-n[1].x)>=0&&(n[0].y-t.y)*(t.y-n[1].y)>=0&&s(M(n[0],t),M(t,n[1]))}function h(t,n,a){return(t.x-a.x)*(n.y-a.y)-(n.x-a.x)*(t.y-a.y)}function b(t,n){return Math.max(t[0].x,t[1].x)>=Math.min(n[0].x,n[1].x)&&Math.max(n[0].x,n[1].x)>=Math.min(t[0].x,t[1].x)&&Math.max(t[0].y,t[1].y)>=Math.min(n[0].y,n[1].y)&&h(n[0],t[1],t[0])*h(t[1],n[1],t[0])>0&&h(t[0],n[1],n[0])*h(n[1],t[1],n[0])>0?1:0}export{N as g};
