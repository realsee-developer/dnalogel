import{r as t,J as d,q as g,F as u,j as n,G as P,p as D,I as v,a as w}from"./index-85b64ddc.js";import{n as E}from"./index-95a52a8f.js";import{u as m,D as c}from"./useFetchDatas-45e33e50.js";import{B as L}from"./Box-d96aca33.js";import{g as S}from"./getInitialParamFromUrl-5dd39f79.js";import"./_five-e7379201.js";import"./createTheme-a7bd8e9d.js";import"./useTheme-28230d65.js";function l(){return{width:window.innerWidth,height:window.innerHeight}}function x(){const[e,o]=t.useState(l);return t.useEffect(()=>{const s=()=>o(l());return window.addEventListener("resize",s,!1),()=>window.removeEventListener("resize",s,!1)}),e}const F=()=>{const[e,o]=d(),s=m(c.FLOOR_PLAN_SERVER_PLUGIN_DATA),r=t.useRef(null),[h,i]=t.useState(!1),a=g().plugins.panoDoorLabelPlugin;return t.useEffect(()=>{!r.current||e.mode!==u.Mode.Panorama||a.appendTo(r.current)},[e.mode]),t.useEffect(()=>{!s||JSON.stringify(s)==="{}"||a.loadData(s)},[s]),t.useEffect(()=>{e.mode===u.Mode.Panorama?i(!0):i(!1)},[e.mode]),n.jsx(L,{ref:r})},O={},f=S(),p=JSON.stringify(f)!=="{}"?f:O;console.info(p,"pluginParams");const R=P({imageOptions:{size:512},textureOptions:{size:512},plugins:[[E,"panoDoorLabelPlugin",{...p}]]}),b=()=>{const e=x(),o=m(c.WORK);return o&&n.jsxs(R,{initialWork:D(o),children:[n.jsx(v,{...e}),n.jsx(F,{})]})};w.render(n.jsx(b,{}),document.querySelector("#app"));
