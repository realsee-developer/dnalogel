import{r as s,q as x,n as h,X as F,j as o,F as P,G as v,p as w,I as D,a as j}from"./index-85b64ddc.js";import{a as E,b as S}from"./index-95a52a8f.js";import{d as U,a as A}from"./ViewInAr-fd4fa02b.js";import{u as f,D as p}from"./useFetchDatas-45e33e50.js";import{P as N}from"./Paper-ead7a250.js";import{B as R,a as m}from"./BottomNavigationAction-2b30d94e.js";import{g as b}from"./getInitialParamFromUrl-5dd39f79.js";import{B as k}from"./Box-d96aca33.js";import{B as O}from"./Button-c89038b2.js";import"./createTheme-a7bd8e9d.js";import"./createSvgIcon-c7bdef24.js";import"./createSvgIcon-0da8929c.js";import"./ButtonBase-4df208c3.js";import"./useControlled-e139503c.js";import"./useId-457cb0cd.js";import"./useTheme-28230d65.js";function d(){return{width:window.innerWidth,height:window.innerHeight}}function C(){const[n,e]=s.useState(d);return s.useEffect(()=>{const i=()=>e(d());return window.addEventListener("resize",i,!1),()=>window.removeEventListener("resize",i,!1)}),n}const L=n=>{const e=x(),[i,r]=s.useState(e.getCurrentState().mode),l=h(),a=f(p.FLOOR_PLAN_SERVER_PLUGIN_DATA),g=e.plugins.modelFloorplanPlugin;return F("modeChange",t=>{r(t)},[r]),s.useEffect(()=>{g.changeConfigs({getRoomAreaText(t){return n.isDefaultUnit?(t/1e6).toFixed(1)+"„é°":(t*10764e-9).toFixed(1)+"ft¬≤"},getRoomDimensionText(t,u){return n.isDefaultUnit?(t*.001).toFixed(1)+"m √ó "+(u*.001).toFixed(1)+"m":(t*.0032808).toFixed(1)+"ft √ó "+(u*.0032808).toFixed(1)+"ft"},getRuleDistanceText(t){return n.isDefaultUnit?t.toString():(t*.0032808).toFixed(1)+"ft"}})},[n.isDefaultUnit]),s.useEffect(()=>{e.plugins.modelFloorplanPlugin.hooks.on("showAnimationEnded",()=>{console.info("üê∂-- ModelFloorplanPlugin -- showAnimationEnded")}),e.plugins.modelFloorplanPlugin.hooks.on("hide",()=>{console.info("üê∂-- ModelFloorplanPlugin -- hide")})},[e]),s.useEffect(()=>{!a||JSON.stringify(a)==="{}"||e.plugins.modelFloorplanPlugin.load(a)},[a]),l!=="Loaded"?null:o.jsx(N,{sx:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"transparent"},className:"topview-floorplan-plugin-use",children:o.jsxs(R,{showLabels:!0,value:i,children:[o.jsx(m,{label:"ÂÖ®ÊôØÊº´Ê∏∏",icon:o.jsx(U,{}),value:"Panorama",onClick:()=>{e.setState({mode:P.Mode.Panorama})}}),o.jsx(m,{label:"Á©∫Èó¥ÊÄªËßà",icon:o.jsx(A,{}),value:"Floorplan",onClick:()=>{e.plugins.modelFloorplanPlugin.show()}})]})})},T={attachedTo:E.CEILING},c=b(),B=JSON.stringify(c)!=="{}"?c:T,I=v({imageOptions:{size:512},textureOptions:{size:512},plugins:[[S,"modelFloorplanPlugin",{selector:".plugin-full-screen-container",...B}]]}),M=()=>{const n=C(),e=f(p.WORK),[i,r]=s.useState(!0);function l(){r(!i)}return e&&o.jsxs(I,{initialWork:w(e),children:[o.jsx(D,{...n}),o.jsx(k,{className:"plugin-full-screen-container",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),o.jsx(L,{isDefaultUnit:i}),o.jsx("div",{className:"right-slide-btn-group",children:o.jsx(O,{variant:"contained",onClick:l,children:"ÂàáÊç¢Âçï‰Ωç"})})]})};j.render(o.jsx(M,{}),document.querySelector("#app"));
