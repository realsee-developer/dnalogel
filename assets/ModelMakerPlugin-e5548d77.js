import{q as f,R as n,j as i,G as m,p as x,I as h,a as y}from"./index-85b64ddc.js";import{D as j}from"./index-95a52a8f.js";import{u as b}from"./useWindowDimensions-99f2e6bf.js";import{F as u}from"./FiveModeSwitcher-1248bc03.js";import{P as g}from"./Paper-ead7a250.js";import{B as s}from"./ButtonGroup-da6043f4.js";import{B as t}from"./Button-c89038b2.js";import{B as _}from"./Box-d96aca33.js";import{T as Y}from"./Typography-c2c598f0.js";import{S as k}from"./Slider-ccde2988.js";import{u as I,D as v}from"./useFetchDatas-45e33e50.js";import"./_five-e7379201.js";import"./BottomNavigationAction-2b30d94e.js";import"./createTheme-a7bd8e9d.js";import"./ButtonBase-4df208c3.js";import"./useTheme-28230d65.js";import"./index-16229650.js";import"./useControlled-e139503c.js";import"./resolveComponentProps-e8e495ed.js";import"./useSlotProps-f647abdb.js";const r={list:[{id:1,name:"多边形",type:"triangles",object_data:{points:[[-4.123815036198345,16264862369528197e-31,.6749571893360409],[-4.136171940569206,.8818357559928545,.8036810838238246],[-4.3480243783849355,.724703895663797,.8701076327433946],[-4.322683971372346,-.012037871935272133,.7562943264963584]],color:"#ff00ff",opacity:.4,panoIndex:2}},{id:2,name:"盒子",type:"box",object_data:{start:[0,0,2],end:[1,1,3],rotation:[0,0,0],color:"#00ff00",opacity:.4}},{id:3,name:"区域标签",type:"prism",object_data:{floorIndex:0,points:[[0,0,0],[1,0,0],[1,0,1],[0,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}}]},C={list:[{id:3,name:"区域标签0",type:"prism",object_data:{floorIndex:0,points:[[0,0,0],[1,0,0],[1,0,1],[0,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:30,name:"区域标签30",type:"prism",object_data:{floorIndex:0,points:[[1,0,0],[2,0,0],[2,0,1],[1,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:31,name:"区域标签31",type:"prism",object_data:{floorIndex:0,points:[[-1,0,0],[0,0,0],[0,0,1],[-1,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:32,name:"区域标签32",type:"prism",object_data:{floorIndex:0,points:[[-2,0,0],[-1,0,0],[-1,0,1],[-2,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:33,name:"区域标签33",type:"prism",object_data:{floorIndex:0,points:[[-2,0,-1],[-1,0,-1],[-1,0,0],[-2,0,0]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:34,name:"区域标签34",type:"prism",object_data:{floorIndex:0,points:[[-1,0,-1],[0,0,-1],[0,0,0],[-1,0,0]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:35,name:"区域标签35",type:"prism",object_data:{floorIndex:0,points:[[0,0,-1],[1,0,-1],[1,0,0],[0,0,0]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:36,name:"区域标签36",type:"prism",object_data:{floorIndex:0,points:[[1,0,-1],[2,0,-1],[2,0,0],[1,0,0]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:37,name:"区域标签37",type:"prism",object_data:{floorIndex:0,points:[[1,0,-2],[2,0,-2],[2,0,-1],[1,0,-1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:38,name:"区域标签38",type:"prism",object_data:{floorIndex:0,points:[[0,0,-2],[1,0,-2],[1,0,-1],[0,0,-1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:39,name:"区域标签39",type:"prism",object_data:{floorIndex:0,points:[[-1,0,-2],[0,0,-2],[0,0,-1],[-1,0,-1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:310,name:"区域标签310",type:"prism",object_data:{floorIndex:0,points:[[-2,0,-2],[-1,0,-2],[-1,0,-1],[-2,0,-1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}}]},P={list:[{id:3,name:"区域标签0",type:"prism",object_data:{floorIndex:0,points:[[0,0,0],[1,0,0],[1,0,1],[0,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:30,name:"区域标签30",type:"prism",object_data:{floorIndex:0,points:[[1,0,0],[2,0,0],[2,0,1],[1,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:31,name:"区域标签31",type:"prism",object_data:{floorIndex:0,points:[[-1,0,0],[0,0,0],[0,0,1],[-1,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}},{id:32,name:"区域标签32",type:"prism",object_data:{floorIndex:0,points:[[-2,0,0],[-1,0,0],[-1,0,1],[-2,0,1]],height:3,fixedY:.1,color:"#0000ff",opacity:.4}}]},w=()=>{const a=f(),o=a.plugins.modelMakerPlugin,[d,p]=n.useState(1);n.useEffect(()=>(o.load(r),()=>{o.dispose()}),[a]);const l=e=>{p(e),o.setModelsOpacity(e)};return i.jsxs(i.Fragment,{children:[i.jsx(u,{modeList:["Panorama","Mapview","Floorplan"]}),i.jsxs(g,{sx:{position:"fixed",top:"10px",right:"10px",backgroundColor:"transparent",padding:"10px"},children:[i.jsxs(s,{size:"large","aria-label":"large button group",orientation:"vertical",children:[i.jsx(t,{onClick:()=>o.load(r),children:"data1"}),i.jsx(t,{onClick:()=>o.load(C),children:"data2"}),i.jsx(t,{onClick:()=>o.load(P),children:"data3"})]}),i.jsxs(s,{size:"large","aria-label":"large button group",orientation:"vertical",children:[i.jsx(t,{onClick:()=>o==null?void 0:o.show(),children:"show"}),i.jsx(t,{onClick:()=>o==null?void 0:o.hide(),children:"hide"}),i.jsx(t,{onClick:()=>o==null?void 0:o.disable(),children:"disable"}),i.jsx(t,{onClick:()=>o==null?void 0:o.enable(),children:"enable"}),i.jsx(t,{onClick:()=>o.load(r),children:"load"}),i.jsx(t,{onClick:()=>o.playBoxAnimation(2).then(()=>alert("done!")),children:"Animate"}),i.jsx(t,{onClick:()=>o.forceFinishBoxAnimation(),children:"STOP Animation"})]}),i.jsxs(_,{sx:{width:"100%",mt:2},children:[i.jsxs(Y,{gutterBottom:!0,children:["透明度百分比 (",Math.round(d*100),"%)"]}),i.jsx(k,{value:d,min:0,max:1,step:.01,onChange:(e,c)=>l(c),valueLabelDisplay:"auto",valueLabelFormat:e=>`${Math.round(e*100)}%`,"aria-labelledby":"opacity-slider"})]})]})]})},M=m({imageOptions:{size:512},textureOptions:{size:128},onlyRenderIfNeeds:!0,plugins:[[j,"modelMakerPlugin",{occlusionVisibility:["Mapview"]}]]}),B=()=>{const a=b(),o=I(v.WORK);return o&&i.jsxs(M,{initialWork:x(o),initialState:{latitude:.33,longitude:2.87,panoIndex:3,mode:"Mapview"},children:[i.jsx("div",{style:{position:"absolute",width:"100%",height:"100%"},children:i.jsx(h,{...a})}),i.jsx(w,{})]})};y.render(i.jsx(B,{}),document.querySelector("#app"));
