import{r,q as c,X as d,G as l,j as n,p as m,I as f,a as g}from"./index-85b64ddc.js";import{F as w}from"./index-95a52a8f.js";import{u as p,D as u}from"./useFetchDatas-45e33e50.js";import{B as h}from"./Box-d96aca33.js";import"./createTheme-a7bd8e9d.js";import"./useTheme-28230d65.js";function a(){return{width:window.innerWidth,height:window.innerHeight}}function x(){const[s,e]=r.useState(a);return r.useEffect(()=>{const t=()=>e(a());return window.addEventListener("resize",t,!1),()=>window.removeEventListener("resize",t,!1)}),s}const R=()=>{const s=c(),e=p(u.FLOOR_PLAN_SERVER_PLUGIN_DATA);return d("modelLoaded",async()=>{var o,i;if(!e||JSON.stringify(e)==="{}")return;const t=(i=(o=e==null?void 0:e.computed_data)==null?void 0:o.entrance)==null?void 0:i.north_rad;await s.plugins.panoCompassPlugin.load({north_rad:t})},[e]),null},E=l({imageOptions:{size:512},textureOptions:{size:512},onlyRenderIfNeeds:!0,plugins:[[w,"panoCompassPlugin",{logoURL:"//vr-image-4.realsee-cdn.cn/release/web/logo.7febb17f.png"}]]}),_=()=>{const s=x(),e=p(u.WORK);return e&&n.jsxs(E,{initialWork:m(e),children:[n.jsx(f,{...s}),n.jsx(h,{className:"plugin-full-screen-container",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),n.jsx(R,{})]})};g.render(n.jsx(_,{}),document.querySelector("#app"));
