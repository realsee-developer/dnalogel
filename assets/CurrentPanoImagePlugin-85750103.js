import{r as s,q as g,T as m,j as e,G as f,p as x,I as w,a as v}from"./index-85b64ddc.js";import{k as j}from"./index-95a52a8f.js";import{B as t}from"./Button-c89038b2.js";import{u as P,D as k}from"./useFetchDatas-45e33e50.js";import{B as C}from"./Box-d96aca33.js";import"./createTheme-a7bd8e9d.js";import"./ButtonBase-4df208c3.js";import"./useTheme-28230d65.js";function r(){return{width:window.innerWidth,height:window.innerHeight}}function E(){const[n,i]=s.useState(r);return s.useEffect(()=>{const o=()=>i(r());return window.addEventListener("resize",o,!1),()=>window.removeEventListener("resize",o,!1)}),n}const b=()=>{const n=g(),i=n.plugins.CurrentPanoImagePlugin,[o,l]=s.useState(0);s.useEffect(()=>{Object.assign(window,{five:n,THREE:m,plugin:i})},[n]),s.useEffect(()=>{n.plugins.CurrentPanoImagePlugin.updateConfig({yRotate:o})},[o]);function c(){i.show()}function d(){i.hide()}function u(){i.enable()}function p(){i.disable()}function h(){l(a=>(a+Math.PI/6)%(Math.PI*2))}return e.jsxs("div",{className:"btn-group",children:[e.jsxs("div",{className:"left-group",children:[e.jsx(t,{variant:"contained",onClick:()=>n.changeMode("Floorplan"),children:"模型"},"showFiveFloorplan"),e.jsx(t,{variant:"contained",onClick:()=>n.changeMode("Panorama"),children:"全景"},"showFivePanorama")]},"left-group"),e.jsxs("div",{className:"right-group",children:[e.jsx(t,{variant:"contained",onClick:c,children:"展示"},"show"),e.jsx(t,{variant:"contained",onClick:d,children:"隐藏"},"hide"),e.jsx(t,{variant:"contained",onClick:u,children:"启用"},"enable"),e.jsx(t,{variant:"contained",onClick:p,children:"禁用"},"disable"),e.jsx(t,{variant:"contained",onClick:h,children:"更改转向"},"addNorthRad")]},"right-group")]})},R=f({imageOptions:{size:512},textureOptions:{size:512},onlyRenderIfNeeds:!0,plugins:[[j,"CurrentPanoImagePlugin",{initialState:{enabled:!1}}]]}),F=()=>{const n=E(),i=P(k.WORK);return i&&e.jsxs(R,{initialState:{mode:"Floorplan"},initialWork:x(i),children:[e.jsx(w,{...n}),e.jsx(C,{className:"plugin-full-screen-container",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),e.jsx(b,{})]})};v.render(e.jsx(F,{}),document.querySelector("#app"));
