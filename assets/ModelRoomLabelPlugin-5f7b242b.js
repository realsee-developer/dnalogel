import{r as l,J as h,q as x,n as w,X as v,j as e,F as a,G as P,p as L,I as j,a as b}from"./index-85b64ddc.js";import{h as E}from"./index-95a52a8f.js";import{d as R,a as S}from"./ViewInAr-fd4fa02b.js";import{u,D as c}from"./useFetchDatas-45e33e50.js";import{P as F}from"./Paper-ead7a250.js";import{B as D,a as m}from"./BottomNavigationAction-2b30d94e.js";import{g as M}from"./getInitialParamFromUrl-5dd39f79.js";import{B as O}from"./Box-d96aca33.js";import"./createTheme-a7bd8e9d.js";import"./createSvgIcon-c7bdef24.js";import"./createSvgIcon-0da8929c.js";import"./ButtonBase-4df208c3.js";import"./useControlled-e139503c.js";import"./useId-457cb0cd.js";import"./useTheme-28230d65.js";function p(){return{width:window.innerWidth,height:window.innerHeight}}function _(){const[s,o]=l.useState(p);return l.useEffect(()=>{const t=()=>o(p());return window.addEventListener("resize",t,!1),()=>window.removeEventListener("resize",t,!1)}),s}const z=s=>{const[o,t]=h(),i=x(),f=w(),n=u(c.MODEL_ROOM_LABEL_PLUGIN_DATA);return l.useEffect(()=>{const r=document.querySelector(".plugin-full-screen-container");r&&i.plugins.modelRoomLabelPlugin.appendTo(r)},[i]),v("modelLoaded",()=>{n&&(i.plugins.modelRoomLabelPlugin.load(n),t({mode:a.Mode.Floorplan}))},[n]),f!=="Loaded"?null:e.jsx(F,{sx:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"transparent"},className:"model-roomlabel-plugin-show",children:e.jsxs(D,{showLabels:!0,value:o.mode,onChange:(r,g)=>{t({mode:g})},children:[e.jsx(m,{label:"全景漫游",icon:e.jsx(R,{}),value:a.Mode.Panorama}),e.jsx(m,{label:"空间总览",icon:e.jsx(S,{}),value:a.Mode.Floorplan})]})})},A={},d=M(),B=JSON.stringify(d)!=="{}"?d:A,N=P({imageOptions:{size:512},textureOptions:{size:512},plugins:[[E,"modelRoomLabelPlugin",{...B}]]}),W=()=>{const s=_(),o=u(c.WORK);return o&&e.jsxs(N,{initialWork:L(o),children:[e.jsx(j,{...s}),e.jsx(O,{className:"plugin-full-screen-container",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),e.jsx(z,{})]})};b.render(e.jsx(W,{}),document.querySelector("#app"));
