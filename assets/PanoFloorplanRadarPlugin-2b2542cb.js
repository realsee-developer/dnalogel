import{r as o,J as g,q as x,F as l,j as r,G as P,p as F,I as h,a as w}from"./index-85b64ddc.js";import{S as R}from"./index-95a52a8f.js";import{u as d,D as f}from"./useFetchDatas-45e33e50.js";import{B as S}from"./Box-d96aca33.js";import{g as v}from"./getInitialParamFromUrl-5dd39f79.js";import"./createTheme-a7bd8e9d.js";import"./useTheme-28230d65.js";function u(){return{width:window.innerWidth,height:window.innerHeight}}function E(){const[e,t]=o.useState(u);return o.useEffect(()=>{const n=()=>t(u());return window.addEventListener("resize",n,!1),()=>window.removeEventListener("resize",n,!1)}),e}const j=()=>{const[e,t]=g(),n=d(f.FLOOR_PLAN_SERVER_PLUGIN_DATA),s=o.useRef(null),[m,p]=o.useState(!1),a=x(),i=a.plugins.panoFloorplanRadarPlugin;return i.changeConfigs({hoverEnable:!0}),o.useEffect(()=>{!s.current||e.mode!==l.Mode.Panorama||i.appendTo(s.current)},[a]),o.useEffect(()=>{!n||JSON.stringify(n)==="{}"||i.load(n)},[n,a]),o.useEffect(()=>{e.mode===l.Mode.Panorama?p(!0):p(!1)},[e.mode]),r.jsx(S,{onClick:()=>t({mode:l.Mode.Floorplan}),sx:{display:`${m?"flex":"none"}`,justifyContent:"center",alignItems:"center",position:"absolute",top:"60px",right:"20px",padding:"10px",width:"90px",height:"120px",backgroundColor:"rgba(0, 0, 0, .2)"},ref:s})},D={},c=v();JSON.stringify(c);const O=P({imageOptions:{size:512},textureOptions:{size:512},plugins:[[R,"panoFloorplanRadarPlugin"]]}),z=()=>{const e=E(),t=d(f.WORK);return t&&r.jsxs(O,{initialWork:F(t),children:[r.jsx(h,{...e}),r.jsx(j,{})]})};w.render(r.jsx(z,{}),document.querySelector("#app"));
